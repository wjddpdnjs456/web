<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sculpture</title>
     <!--css-->
     <link rel="stylesheet" href="port.css" />
</head>
<body>
    <div id="wrap">
        <div class="container">
            <div class="s_background">
                <div class="text_container">
                    <div class="name">YEWON</div> 
                    <div class="portfolio">2021 portfolio</div> 
                    <div class="title">SCULPTURE</div>
                    <div class="adress">Pattern design I drew myself</div> 
                    <button class="s_button"><a href="./page4.html">Enter</a></button> 
                </div>
                <div class="s_object1"></div>
                <div class="s_object2"></div>
                <div class="s_object3"></div>
                <div class="s_object4"></div>
                <div class="s_object5"></div>
                <div class="s_object6"></div>
                <div class="s_object7"></div>
                <div class="s_object8"></div>
                <div class="s_object9"></div>
                <div class="s_object10"></div>
            </div> 
        </div>
    </div>

    <!-- script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script>
        let x = 0,
            y = 0,
            mouseX = 0,
            mouseY = 0,
            angleX = 0,
            angleY = 0,
            fmouseX = 0,
            fmouseY = 0;

        $(window).mousemove(function(e){
            x = e.pageX;    //마우스 X축 좌표값
            y = e.pageY;    //마우스 Y축 좌표값

            //let mouseX = $(window).width()/2 - x    //마우스의 X축 좌표값을 가운데로 설정
            //let mouseY = $(window).height()/2 - y   //마우스의 Y축 좌표값을 가운데로 설정

            //마우스의 x축 y축 쵯소값 -50 쵯대값 50으로 설정
            mouseX = Math.max(-30, Math.min(30, $(window).width()/2 - x));
            mouseY = Math.max(-30, Math.min(30, $(window).height()/2 - y));

            angleX = (12 * mouseX) / 100;
            angleY = (12 * mouseY) / 100;

            fmouseX += (angleX - fmouseX) * 1/10;
            fmouseY += (angleY - fmouseY) * 1/10;

            //커서 
            gsap.to(".cursor", { duration: 0.8, left: x, top: y });

            //움직임
         
            // $(".s_object1").css({"transform": "translate(0%, 0%) perspective(600px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            // $(".s_object2").css({"transform": "translate(0%, 0%) perspective(600px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object3").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object4").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            // $(".s_object5").css({"transform": "translate(0%, 0%) perspective(600px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object6").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            // $(".s_object7").css({"transform": "translate(0%, 0%) perspective(600px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object8").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object9").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
            $(".s_object10").css({"transform": "translate(0%, 0%) perspective(400px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)" });
        })

   
        //효과
        const leaves = document.querySelector(".s_object1")

        const mouseMove = e => {
            const { x, y }  = e;
            const rect = leaves.getBoundingClientRect();
            const mouseX = (x - rect.left - rect.width/2) / rect.width * 20
            const mouseY = (y - rect.top - rect.height/2) / rect.height * 20

            gsap.to(".s_object5", {duration: 0.1, x : mouseX, y: mouseY})
            gsap.to(".s_object2", {duration: 1, x : mouseX * 2, y: mouseY * 2})
            gsap.to(".s_object1", {duration: 0.2, x : mouseX, y: mouseY})
            gsap.to(".s_object7", {duration: 2, x : mouseX, y: mouseY})
        }

        window.addEventListener("mousemove", mouseMove);


        // //뒷배경 움직임
        // let x,y =0;

        // $(".s_background").mousemove(function(e){
        //     gsap.to(".cursor2" , {duration:.2, left:e.pageX -10, top: e.pageY -10});   //윈도우가 아니라 이미지로 지정해놔서 마우스가 이미지 안에서만 움직인다.

        //     //좌표값을 중앙으로 설정
        //     //$(".move-image").width()/2; //콘텐츠 박스의 반지름
        //     //$(".move-image").position().left; //콘텐츠 박스의 반지름

        //     x = e.pageX - ($(".s_background").width()/2 + $(".s_background").position().left);
        //     y = e.pageY - ($(".s_background").height()/2 + $(".s_background").position().top);

        //     $(".s_background").attr({"style":"transform: translate("+x/20+"px, "+y/20+"px"});  //x/20으로 속도를 늦출수있음 20분에 1로
            
        // })

        // $(".info.view a").click(function(){
        //     $(".cursor strong").toggle()
        // })
        // // $(".info.view").click(function(){
        // //     $(".cursor strong").css({"display":"block"})
        // //     $(".cursor strong").show()
        // // })
        
    </script>
</body>
</html>